<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>API documentation | Budget</title>
    <style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
    display: flex;
    height: 100vh;
    width: 100vw;
}
header{
    display: flex;
    flex-direction: column;
    flex-basis: 350px;
    background: black;
    color: white;
    height: 100%;
    padding: 35px;
}
header a{
    color: rgb(200, 200, 200);
    text-decoration: none;
}
.headMain{
    font-size: 22px;
    font-weight: bold;
}
.headSub{
    padding-left: 15px;
}
article{
    flex-grow: 1;
    height: 100%;
    overflow-y: auto;
    background: rgb(200, 200, 200);
    padding: 35px;
}
.route{
    border-bottom: 2px solid black;
    margin-bottom: 35px;
}
.prop{
    padding: 15px 25px;
    border-top: 1px solid black;
}
.name, .type{
    display: inline-block;
}
.name{
    font-weight: bold;
}
.type{
    margin-left: 15px;
    font-size: 12px;
}
.url{
    font-size: 18px;
}
.enumOptions{
    font-size: 12px;
}
.enumOptions li{
    margin-left: 20px;
}
    </style>
</head>
<body>
    <header>
        <a class="headMain" href="#user">User</a>
        <a class="headSub" href="#createUser">Create</a>
        <a class="headSub" href="#getToken">Get Token</a>
        <a class="headSub" href="#getUser">Get</a>
        <a class="headSub" href="#resetEmail">Reset Password Email</a>
        <a class="headSub" href="#resetPass">Reset Password</a>
        <a class="headMain" href="#account">Account</a>
        <a class="headSub" href="#createAccount">Create</a>
        <a class="headSub" href="#getAccounts">Get</a>
        <a class="headMain" href="#income">Income</a>
        <a class="headSub" href="#addIncome">Add Income</a>
        <a class="headSub" href="#removeIncome">Remove Income</a>
        <a class="headMain" href="#bill">Bill</a>
        <a class="headSub" href="#addBill">Add Bill</a>
        <a class="headSub" href="#removeBill">Remove Bill</a>
        <a class="headMain" href="#allowance">Allowance</a>
        <a class="headSub" href="#addAllowance">Add allowance</a>
        <a class="headSub" href="#removeAllowance">Remove Allowance</a>
        <a class="headMain" href="#transaction">Transaction</a>
        <a class="headSub" href="#createTransaction">Create</a>
        <a class="headSub" href="#deleteTransaction">Delete</a>
        <a class="headSub" href="#getTransactions">Get</a>
    </header>

    <article>
        <div id="user" class="route">
            <h1>User</h1>
            <p class="description">User object</p>

            <h3>Properties</h3>
            <div class="prop">
                <p class="name">id</p>
                <p class="type">string</p>
                <p class="propDesc">Unique ID of the user</p>
            </div>

            <div class="prop">
                <p class="name">email</p>
                <p class="type">string</p>
                <p class="propDesc">User email address</p>
            </div>
        </div>

        <div id="createUser" class="route">
            <h1>Create User</h1>
            <p class="url">POST /user</p>
            <p class="description">Create a new user</p>

            <h3>Request Body</h3>
            <div class="prop">
                <p class="name">email</p>
                <p class="type">string</p>
                <p class="propDesc">New user email address</p>
            </div>

            <div class="prop">
                <p class="name">password</p>
                <p class="type">string</p>
                <p class="propDesc">New user password</p>
            </div>

            <div class="prop">
                <p class="name">confirmPassword</p>
                <p class="type">string</p>
                <p class="propDesc">Confirmation password</p>
            </div>

            <h3>Response Body</h3>
            <div class="prop">
                <p class="name">success</p>
                <p class="type">true</p>
                <p class="propDesc">Always '{success: true}' if no error</p>
            </div>
        </div>

        <div id="getToken" class="route">
            <h1>Get Auth Token</h1>
            <p class="url">POST /user/token</p>
            <p class="description">Retrieve JWT for user authentication</p>
            
            <h3>Request Body</h3>
            <div class="prop">
                <p class="name">email</p>
                <p class="type">string</p>
                <p class="propDesc">User email</p>
            </div>

            <div class="prop">
                <p class="name">password</p>
                <p class="type">string</p>
                <p class="propDesc">User password</p>
            </div>

            <h3>Response Body</h3>
            <div class="prop">
                <p class="name">token</p>
                <p class="type">string</p>
                <p class="propDesc">Token used for user authorization</p>
            </div>
        </div>

        <div id="getUser" class="route">
            <h1>Get User</h1>
            <p class="url">GET /user/:userId</p>
            <p>User Auth Required</p>
            <p class="description">Retrieve user data</p>

            <h3>Response Body</h3>
            <div class="prop">
                <p class="name">N/A</p>
                <p class="type"><a href="#user">User</a></p>
                <p class="propDesc">User object with all data</p>
            </div>
        </div>

        <div id="resetEmail" class="route">
            <h1>Send Password Reset Email</h1>
            <p class="url">GET /user/password/:email</p>
            <p class="description">Send an email with a link to reset the user's password</p>

            <h3>Response Body</h3>
            <div class="prop">
                <p class="name">success</p>
                <p class="type">true</p>
                <p class="propDesc">Always '{success: true}' if no error</p>
            </div>
        </div>

        <div id="resetPass" class="route">
            <h1>Reset Password</h1>
            <p class="url">PUT /user/:userId/password/:token</p>
            <p class="description">Reset user password</p>

            <h3>Request Body</h3>
            <div class="prop">
                <p class="name">password</p>
                <p class="type">string</p>
                <p class="propDesc">New user password</p>
            </div>

            <div class="prop">
                <p class="name">confirmPassword</p>
                <p class="type">string</p>
                <p class="propDesc">Confirmation password</p>
            </div>

            <h3>Response Body</h3>
            <div class="prop">
                <p class="name">success</p>
                <p class="type">true</p>
                <p class="propDesc">Always '{success: true}' if no error</p>
            </div>
        </div>

        <div id="account" class="route">
            <h1>Account</h1>
            <p class="Description">Account object</p>

            <h3>Properties</h3>
            <div class="prop">
                <p class="name">name</p>
                <p class="type">string</p>
                <p class="propDesc">Account name</p>
            </div>

            <div class="prop">
                <p class="name">balance</p>
                <p class="type">number</p>
                <p class="propDesc">Current balance on the account</p>
            </div>
        </div>

        <div id="createAccount" class="route">
            <h1>Create</h1>
            <p class="url">POST /account</p>
            <p>Requires User Auth</p>
            <p class="description"> Create a new account</p>

            <h3>Request Body</h3>
            <div class="prop">
                <p class="name">name</p>
                <p class="type">string</p>
                <p class="propDesc">Name of the account</p>
            </div>

            <div class="prop">
                <p class="name">balance</p>
                <p class="type">number</p>
                <p class="propDesc">Integer representing current balance on account in cents</p>
            </div>

            <h3>Response Body</h3>
            <div class="prop">
                <p class="name">N/A</p>
                <p class="type"><a href="#account">Account</a></p>
                <p class="propDesc">Account object</p>
            </div>
        </div>

        <div id="getAccounts" class="route">
            <h1>Get Accounts</h1>
            <p class="url">GET /account/user/:userId</p>
            <p>User Auth Required</p>

            <h3>Response Body</h3>
            <div class="prop">
                <p class="name">N/A</p>
                <p class="type">[<a href="#account">Account</a>]</p>
                <p class="propDesc">A list containing accounts for the user. Contains full account data.</p>
            </div>
        </div>

        <div id="income" class="route">
            <h1>Income</h1>
            <p class="description">An income source. Sub-object of an account</p>

            <h3>Properties</h3>
            <div class="prop">
                <p class="name">name</p>
                <p class="type">string</p>
                <p class="propDesc">Name of the income source</p>
            </div>

            <div class="prop">
                <p class="name">amount</p>
                <p class="type">number</p>
                <p class="propDesc">Integer representing the amount in cents of the income source.</p>
            </div>
        </div>

        <div id="addIncome" class="route">
            <h1>Add Income</h1>
            <p class="url">POST /account/:accountId/income</p>
            <p>User Auth Required</p>
            <p class="description">Create a new income source on an account</p>

            <h3>Request Body</h3>
            <div class="prop">
                <p class="name">name</p>
                <p class="type">string</p>
                <p class="propDesc">Name of the income</p>
            </div>

            <div class="prop">
                <p class="name">amount</p>
                <p class="type">number</p>
                <p class="propDesc">Integer respresenting income amount in cents</p>
            </div>

            <h3>Response Body</h3>
            <div class="prop">
                <p class="name">N/A</p>
                <p class="type"><a href="#income">Income</a></p>
                <p class="propDesc">Income object</p>
            </div>
        </div>

        <div id="removeIncome" class="route">
            <h1>Remove Income</h1>
            <p class="url">DELETE /account/:accountId/income/:incomeId</p>
            <p>User Auth Required</p>
            <p class="description">Remove an income from an account</p>

            <h3>Response Body</h3>
            <div class="prop">
                <p class="name">success</p>
                <p class="type">true</p>
                <p class="propDesc">Always '{success: true}' if no error</p>
            </div>
        </div>

        <div id="bill" class="route">
            <h1>Bill</h1>
            <p class="description">A user's bill on an account</p>

            <h3>Properties</h3>
            <div class="prop">
                <p class="name">id</p>
                <p class="type">string</p>
                <p class="propDesc">Unique ID of the bill</p>
            </div>

            <div class="prop">
                <p class="name">name</p>
                <p class="type">string</p>
                <p class="propDesc">Name of the bill</p>
            </div>

            <div class="prop">
                <p class="name">amount</p>
                <p class="type">number</p>
                <p class="propDesc">Integer representing the amount of the bill</p>
            </div>
        </div>

        <div id="addBill" class="route">
            <h1>Add Bill</h1>
            <p class="url">POST /account/:accountId/bill</p>
            <p>User Auth Required</p>
            <p class="description">Create a new bill</p>

            <h3>Request Body</h3>
            <div class="prop">
                <p class="name">name</p>
                <p class="type">string</p>
                <p class="propDesc">Name of the bill</p>
            </div>

            <div class="prop">
                <p class="name">amount</p>
                <p class="type">number</p>
                <p class="propDesc">Integer representing the amount of the bill in cents</p>
            </div>

            <h3>Response Body</h3>
            <div class="prop">
                <p class="name">N/A</p>
                <p class="type"><a href="#bill">Bill</a></p>
                <p class="propDesc">Bill object</p>
            </div>
        </div>

        <div id="removeBill" class="route">
            <h1>Remove Bill</h1>
            <p class="url">DELETE /account/:accountId/bill/:billId</p>
            <p>User Auth Required</p>
            <p class="description">Remove a bill from an account</p>

            <h3>Response Body</h3>
            <div class="prop">
                <p class="name">N/A</p>
                <p class="type"><a href="#bill">Bill</a></p>
                <p class="propDesc">Bill object</p>
            </div>
        </div>

        <div id="allowance" class="route">
            <h1>Allowance</h1>
            <p class="description">An allowance for a certain expenditure. Can be as a percent or a fixed amount.</p>
            
            <h3>Properties</h3>
            <div class="prop">
                <p class="name">id</p>
                <p class="type">string</p>
                <p class="propDesc">Unique ID of the allowance</p>
            </div>

            <div class="prop">
                <p class="name">name</p>
                <p class="type">string</p>
                <p class="propDesc">Name of the allowance</p>
            </div>

            <div class="prop">
                <p class="name">amount</p>
                <p class="type">number</p>
                <p class="propDesc">Integer representing the amount of the allowance. This depends on the 'isPercent' property. If false, this is integer represents cents. If true, it represents a percent of all income.</p>
            </div>

            <div class="prop">
                <p class="name">isPercent</p>
                <p class="type">boolean</p>
                <p class="propDesc">If true, 'amount' represents a percent. If false 'amount' represents a fixed amount.</p>
            </div>
        </div>

        <div id="createAllowance" class="route">
            <h1>Create Allowance</h1>
            <p class="url">POST /account/:accountId/allowance</p>
            <p>User Auth Required</p>
            <p class="description">Create a new allowance</p>

            <h3>Request Body</h3>
            <div class="prop">
                <p class="name">name</p>
                <p class="type">string</p>
                <p class="propDesc">Name of the allowance</p>
            </div>

            <div class="prop">
                <p class="name">amount</p>
                <p class="type">number</p>
                <p class="propDesc">Integer representing amount</p>
            </div>

            <div class="prop">
                <p class="name">isPercent</p>
                <p class="type">boolean</p>
                <p class="propDesc">Determines whether amount is a fixed amount or a percent</p>
            </div>

            <h3>Response Body</h3>
            <div class="prop">
                <p class="name">N/A</p>
                <p class="type"><a href="#allowance">Allowance</a></p>
                <p class="propDesc">Allowance object</p>
            </div>
        </div>

        <div id="removeAllowance" class="route">
            <h1>Remove Allowance</h1>
            <p class="url">DELETE /account/:accountId/allowance/:allowanceId</p>
            <p>User Auth Required</p>
            <p class="description">Remove an allowance from an account</p>

            <h3>Response Body</h3>
            <div class="prop">
                <p class="name">success</p>
                <p class="type">true</p>
                <p class="propDesc">Always '{success: true}' if no error</p>
            </div>
        </div>

        <div id="transaction" class="route">
            <h1>Transaction</h1>
            <p class="description">A transaction associated with an account</p>

            <h3>Properties</h3>
            <div class="prop">
                <p class="name">id</p>
                <p class="type">string</p>
                <p class="propDesc">Unique id of the transaction</p>
            </div>

            <div class="prop">
                <p class="name">tags</p>
                <p class="type">[string]</p>
                <p class="propDesc">String tags for searching</p>
            </div>

            <div class="prop">
                <p class="name">amount</p>
                <p class="type">number</p>
                <p class="propDesc">Integer representing value of transaction in cents</p>
            </div>

            <div class="prop">
                <p class="name">location</p>
                <p class="type">string</p>
                <p class="propDesc">Location of the transaction</p>
            </div>
            
            <div class="prop">
                <p class="name">date</p>
                <p class="type">Date</p>
                <p class="propDesc">Date of the transaction</p>
            </div>

            <div class="prop">
                <p class="name">note</p>
                <p class="type">String</p>
                <p class="propDesc">Any notes about the transaction from the user</p>
            </div>

            <div class="prop">
                <p class="name">category.type</p>
                <p class="type">String</p>
                <p class="propDesc">One of: income, bill, allowance or discretionary</p>
            </div>

            <div class="prop">
                <p class="name">category.name</p>
                <p class="type">String</p>
                <p class="propDesc">Name of the income/bill/allowance. Not required for discretionary</p>
            </div>
        </div>

        <div id="createTransaction" class="route">
            <h1>Create</h1>
            <p class="url">POST /transaction</p>
            <p>User Auth Required</p>
            <p class="description">Create a new transaction</p>

            <h3>Request Body</h3>
            <div class="prop">
                <p class="name">account</p>
                <p class="type">String</p>
                <p class="propDesc">ID of the account the transaction belongs to</p>
            </div>

            <div class="prop">
                <p class="name">tags</p>
                <p class="type">[String]</p>
                <p class="propDesc">Zero or more strings to use for searching purposes</p>
            </div>

            <div class="prop">
                <p class="name">amount</p>
                <p class="type">Number</p>
                <p class="propDesc">Integer representing the amount of the transaction in cents</p>
            </div>

            <div class="prop">
                <p class="name">location</p>
                <p class="type">String</p>
                <p class="propDesc">Location of the transaction</p>
            </div>

            <div class="prop">
                <p class="name">date.year</p>
                <p class="type">Number</p>
                <p class="propDesc">Integer between 1970 and 2100 representing the year of the transaction</p>
            </div>

            <div class="prop">
                <p class="name">date.month</p>
                <p class="type">Number</p>
                <p class="propDesc">Integer between 1 and 12 representing the month of the transaction</p>
            </div>

            <div class="prop">
                <p class="name">date.day</p>
                <p class="type">Number</p>
                <p class="propDesc">Integer between 0 and 31 representing the day of the transaction</p>
            </div>

            <div class="prop">
                <p class="name">note</p>
                <p class="type">String</p>
                <p class="propDesc">Any note the user wants to add to the transaction</p>
            </div>

            <div class="prop">
                <p class="name">category.type</p>
                <p class="type">String</p>
                <p class="propDesc">One of: income, bill, allowance, discretionary</p>
            </div>

            <div class="prop">
                <p class="name">category.name</p>
                <p class="type">String</p>
                <p class="propDesc">Name of the income/bill/allowance. Not required for discretionary</p>
            </div>

            <h3>Response Body</h3>
            <div class="prop">
                <p class="name">N/A</p>
                <p class="type"><a href="#transaction">Transaction</a></p>
                <p class="propDesc">Newly created transaction</p>
            </div>
        </div>

        <div id="deleteTransaction" class="route">
            <h1>Delete</h1>
            <p class="url">DELETE /transaction/:transactionId</p>
            <p>User Auth Required</p>
            <p class="description">Delete a transaction</p>

            <h3>Response Body</h3>
            <div class="prop">
                <p class="name">success</p>
                <p class="type">true</p>
                <p class="description">Always '{success: true}' if no error</p>
            </div>
        </div>

        <div id="getTransactions" class="route">
            <h1>Get Transactions</h1>
            <p class="url">GET /account/:accountId/transactions?from&to</p>
            <p>User Auth Required</p>
            <p class="description">Retrieve list of transactions on an account between 'from' and 'to'</p>

            <h3>Queries</h3>
            <div class="prop">
                <p class="name">from</p>
                <p class="type">Number</p>
                <p class="propDesc">Start date of transaction retrieval, inclusive. Format = YYYY-MM-DD</p>
            </div>

            <div class="prop">
                <p class="name">to</p>
                <p class="type">Number</p>
                <p class="propDesc">End date of transaction retrieval, exclusive. Formate = YYYY-MM-DD</p>
            </div>

            <h3>Response Body</h3>
            <div class="prop">
                <p class="name">N/A</p>
                <p class="type">[<a href="#transaction">Transaction</a>]</p>
                <p class="propDesc">List of transactions</p>
            </div>
        </div>
    </article>
</body>
</html>
